{
	"name": "ewen-lbh-portfolio",
	"description": "Ewen Le Bihan",
	"private": true,
	"license": "CC-BY-NC-ND-4.0",
	"version": "0.1.0",
	"scripts": {
		"hydrator:build": "cd hydrator && go build",

		"configure:dev": "cp hydrator/dev.env .env",
		"configure:prod": "cp hydrator/prod.env .env",

		"database:build": "portfoliodb ~/projects build --scattered --minified database/database.json --config database/.portfoliodb.yaml",
		"pug:build": "hydrator/hydrate",
		"livescript:build": "lsc -c --output assets/ src/*.ls",
		"stylus:build": "stylus --compress --sourcemap src/style.styl -o assets/style.css",
		"assets:build": "cp -r assets/* dist/ && svgo --recursive --quiet -f assets/ -o dist/",
		"messages:build": "msgfmt i18n/fr.po -o i18n/fr.mo",
		"build": "pnpm database:build && concurrently npm:pug:build npm:livescript:build npm:stylus:build npm:assets:build",

		"pug:watch": "hydrator/hydrate watch",
		"livescript:watch": "lsc   --watch -c --output assets/ src/*.ls",
		"stylus:watch": "stylus    --watch --compress --sourcemap src/style.styl -o assets/style.css",
		"assets:watch": "nodemon   --watch assets        --exec 'pnpm assets:build'",
		"watch": "concurrently npm:pug:watch npm:livescript:watch npm:assets:watch npm:stylus:watch",
		"dev": "pnpm configure:dev && nodemon --watch hydrator --ext go --exec 'pnpm hydrator:build && pnpm pug:build && pnpm watch'",

		"database:clean": "mkdir database_tmp && mv -t database_tmp database/*.{yaml,json} database/.*.yaml && rm -r database/ && mkdir database && mv -t database/ database_tmp/* database_tmp/.*.yaml && rmdir database_tmp",
		"messages:clean": "i18n/clean i18n/fr.po i18n/fr.po",
		"clean": "pnpm messages:clean && pnpm database:clean && rm -r dist"
	},
	"devDependencies": {
		"concurrently": "^5.3.0",
		"gettext-extractor": "^3.5.3",
		"livescript": "^1.6.0",
		"nodemon": "^2.0.7",
		"pug-cli": "^1.0.0-alpha6",
		"stylus": "^0.54.8",
		"svgo": "^2.3.0"
	}
}
